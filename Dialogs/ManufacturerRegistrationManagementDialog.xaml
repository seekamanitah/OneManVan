<Window x:Class="OneManVan.Dialogs.ManufacturerRegistrationManagementDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Manage Manufacturer Registration URLs"
        Width="900"
        Height="700"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource BackgroundBrush}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Manufacturer Registration URLs" 
                       FontSize="20" 
                       FontWeight="Bold"
                       Foreground="{DynamicResource TextBrush}"/>
            <TextBlock Text="Configure warranty registration websites for HVAC manufacturers. These links will appear in registration reminders." 
                       FontSize="13"
                       Foreground="{DynamicResource SubtextBrush}"
                       TextWrapping="Wrap"
                       Margin="0,4,0,0"/>
        </StackPanel>

        <!-- Manufacturers List -->
        <DataGrid x:Name="ManufacturersDataGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  CanUserDeleteRows="True"
                  SelectionMode="Single"
                  Background="{DynamicResource SurfaceBrush}"
                  BorderBrush="{DynamicResource BorderBrush}"
                  BorderThickness="1"
                  RowBackground="{DynamicResource SurfaceBrush}"
                  AlternatingRowBackground="{DynamicResource Surface2Brush}"
                  GridLinesVisibility="Horizontal"
                  HorizontalGridLinesBrush="{DynamicResource BorderBrush}"
                  Margin="0,0,0,16">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Brand Name" 
                                    Binding="{Binding BrandName}" 
                                    Width="150"/>
                <DataGridTextColumn Header="Registration URL" 
                                    Binding="{Binding RegistrationUrl}" 
                                    Width="*"/>
                <DataGridTextColumn Header="Notes" 
                                    Binding="{Binding RegistrationNotes}" 
                                    Width="200"/>
                <DataGridCheckBoxColumn Header="Active" 
                                        Binding="{Binding IsActive}" 
                                        Width="60"/>
                <DataGridTextColumn Header="Order" 
                                    Binding="{Binding DisplayOrder}" 
                                    Width="60"/>
                <DataGridTemplateColumn Header="Actions" Width="120">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Button Content="Edit"
                                        Background="{DynamicResource PrimaryBrush}"
                                        Foreground="White"
                                        Padding="8,4"
                                        FontSize="11"
                                        BorderThickness="0"
                                        Cursor="Hand"
                                        Click="OnEditClick"
                                        Tag="{Binding}"
                                        Margin="0,0,4,0">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}" 
                                                    CornerRadius="4" 
                                                    Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <Button Content="Test"
                                        Background="{DynamicResource Surface2Brush}"
                                        Foreground="{DynamicResource TextBrush}"
                                        Padding="8,4"
                                        FontSize="11"
                                        BorderThickness="0"
                                        Cursor="Hand"
                                        Click="OnTestUrlClick"
                                        Tag="{Binding}">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}" 
                                                    CornerRadius="4" 
                                                    Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Action Buttons -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="1"
                    Content="Add New Brand"
                    Background="{DynamicResource PrimaryBrush}"
                    Foreground="White"
                    Padding="16,10"
                    FontSize="13"
                    FontWeight="SemiBold"
                    BorderThickness="0"
                    Cursor="Hand"
                    Margin="0,0,8,0"
                    Click="OnAddClick">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>

            <Button Grid.Column="2"
                    Content="Save Changes"
                    Background="{DynamicResource PrimaryBrush}"
                    Foreground="White"
                    Padding="20,10"
                    FontSize="13"
                    FontWeight="SemiBold"
                    BorderThickness="0"
                    Cursor="Hand"
                    Margin="0,0,8,0"
                    Click="OnSaveClick">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>

            <Button Grid.Column="3"
                    Content="Close"
                    Background="{DynamicResource Surface2Brush}"
                    Foreground="{DynamicResource TextBrush}"
                    Padding="20,10"
                    FontSize="13"
                    FontWeight="SemiBold"
                    BorderThickness="0"
                    Cursor="Hand"
                    Click="OnCloseClick">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>
    </Grid>
</Window>
