<UserControl x:Class="OneManVan.Controls.UnregisteredAssetsWidget"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="Root">
    
    <Border Background="#FEF3C7" 
            BorderBrush="#F59E0B" 
            BorderThickness="1"
            CornerRadius="12"
            Padding="16"
            Margin="0,0,0,16">
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Grid Grid.Row="0" Margin="0,0,0,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Warning Icon -->
                <Border Grid.Column="0"
                        Width="36"
                        Height="36"
                        Background="#F59E0B"
                        CornerRadius="18"
                        Margin="0,0,12,0">
                    <TextBlock Text="!" 
                               FontSize="20" 
                               FontWeight="Bold"
                               Foreground="White"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>

                <!-- Title and Count -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="Equipment Needs Registration" 
                               FontSize="16" 
                               FontWeight="Bold"
                               Foreground="#92400E"/>
                    <TextBlock FontSize="13" Foreground="#92400E" Margin="0,2,0,0">
                        <Run Text="{Binding UnregisteredCount, ElementName=Root, Mode=OneWay}"/>
                        <Run Text="Items Need Online Registration"/>
                    </TextBlock>
                </StackPanel>

                <!-- Badge -->
                <Border Grid.Column="2"
                        Background="#DC2626"
                        CornerRadius="12"
                        Padding="10,4"
                        VerticalAlignment="Center">
                    <TextBlock Text="{Binding UnregisteredCount, ElementName=Root, Mode=OneWay}" 
                               FontSize="14"
                               FontWeight="Bold"
                               Foreground="White"/>
                </Border>
            </Grid>

            <!-- Description -->
            <TextBlock Grid.Row="1"
                       Text="Register equipment with manufacturers to ensure full warranty coverage." 
                       FontSize="13"
                       Foreground="#92400E"
                       TextWrapping="Wrap"
                       Margin="0,0,0,12"/>

            <!-- Action Buttons -->
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
                        Content="View All"
                        Background="#FFFFFF"
                        Foreground="#92400E"
                        BorderBrush="#F59E0B"
                        BorderThickness="1"
                        Padding="16,8"
                        FontSize="13"
                        FontWeight="SemiBold"
                        Cursor="Hand"
                        Margin="0,0,8,0"
                        Click="OnViewAllClick">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="8" 
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#FEF3C7"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <Button Grid.Column="1"
                        Content="Register Now"
                        Background="#F59E0B"
                        Foreground="White"
                        Padding="20,8"
                        FontSize="13"
                        FontWeight="SemiBold"
                        BorderThickness="0"
                        Cursor="Hand"
                        Click="OnRegisterNowClick">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="8" 
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Opacity" Value="0.85"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>
        </Grid>
    </Border>
</UserControl>
